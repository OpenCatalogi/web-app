{"version":3,"file":"component---src-pages-logout-tsx-ba259c360c2d6ba32b79.js","mappings":"6KAiBA,UAXyB,WACvB,IAAMA,EAAyBC,EAAAA,WAAiBC,EAAAA,GAOhD,OALAD,EAAAA,WAAgB,WACdD,IAAOG,EAAAA,EAAAA,IAAaH,IACpBI,EAAAA,EAAAA,IAAS,IACX,KAEOC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,GACT,C,2HCPaC,EAAY,WAAH,MAAoC,oBAAXC,MAAuB,EAEzDC,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOC,EAAwBd,GAAe,OAAAY,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAClEV,IAAY,CAADQ,EAAAE,KAAA,eAAAF,EAAAG,OAAA,iBAEhBlB,EAAImB,kBAAkB,wBACtBf,EAAAA,EAAAA,IAAS,UAAU,wBAAAW,EAAAK,OAAA,GAAAP,EAAA,KACpB,gBALuBQ,EAAAC,GAAA,OAAAZ,EAAAa,MAAA,KAAAC,UAAA,KAYXrB,EAAe,SAACH,GACtBO,MAELP,EAAIyB,wBACJrB,EAAAA,EAAAA,IAAS,KACX,C","sources":["webpack://skeleton-pip/./src/pages/logout.tsx","webpack://skeleton-pip/./src/services/auth.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { navigate } from \"gatsby\";\nimport { handleLogout } from \"../services/auth\";\nimport APIContext from \"../apiService/apiContext\";\nimport APIService from \"../apiService/apiService\";\n\nconst Logout: React.FC = () => {\n  const API: APIService | null = React.useContext(APIContext);\n\n  React.useEffect(() => {\n    API && handleLogout(API);\n    navigate(\"/\");\n  });\n\n  return <></>;\n};\n\nexport default Logout;\n","import { navigate } from \"gatsby-link\";\nimport APIService from \"../apiService/apiService\";\n\nexport interface IUnvalidatedUser {\n  username: string;\n  password: string;\n}\n\nexport const isBrowser = (): boolean => typeof window !== \"undefined\";\n\nexport const handleLogin = async (data: IUnvalidatedUser, API: APIService) => {\n  if (!isBrowser()) return;\n\n  API.setAuthentication(\"TEMPORARY-DUMMY-KEY\");\n  navigate(\"/admin\");\n};\n\nexport const isLoggedIn = (): boolean => {\n  if (!isBrowser()) return false;\n  return !!window.sessionStorage.getItem(\"JWT\");\n};\n\nexport const handleLogout = (API: APIService): void => {\n  if (!isBrowser()) return;\n\n  API.removeAuthentication();\n  navigate(\"/\");\n};\n"],"names":["API","React","APIContext","handleLogout","navigate","_jsx","_Fragment","isBrowser","window","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","abrupt","setAuthentication","stop","_x","_x2","apply","arguments","removeAuthentication"],"sourceRoot":""}